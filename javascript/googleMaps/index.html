<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Google Map</title>
</head>

<body>
  <h1>My First Google Map</h1>

  <div id="googleMap" style="width:100%;height:400px;"></div>

  <script>
    // map options
    function myMap() {
      var options = {
        zoom: 10,
        center: { lat: 41.015137, lng: 28.979530 },
        mapTypeId: google.maps.MapTypeId.TERRAIN
      };

      // new map
      var map = new google.maps.Map(document.getElementById("googleMap"), options);

     // listen for click on map
      google.maps.event.addListener(map, "click",
      function(event){
             addMarker({coords:event.latLng});
      }); 

      /*
      //add marker
      var marker= new google.maps.Marker({
        position:{lat: 41.01766, lng: 28.97438},
        map:map,
        icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
      })

      // info

      var infoWindow= new google.maps.InfoWindow({
        content:"<h5>Hello</h5>"
      });
      
      marker.addListener("click",function(){
        infoWindow.open(map,marker);
      });
*/
      //  array markers
      var markers =
        [
          {
            coords: { lat: 40.962856, lng: 29.061369 },
            iconImage: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",
            content: "<h5>CaddeBostan</h5>"
          },
          {
            coords: { lat: 41.020000, lng: 28.973057 },
            content: "<h5>EminÖnü</h5>"
          }
        ]

        //loop through markers
        for(var i=0; i<markers.length;i++){
          addMarker(markers[i]);
        }

      // add marker function
      function addMarker(props) {
        var marker = new google.maps.Marker({
          position: props.coords,
          map: map,
          //icon:props.iconImage
        });

        // check for customicon
        if (props.iconImage) {
          // set  icon image
          marker.setIcon(props.iconImage);
        }

        // Chechk content
        if (props.content) {
          // info

          var infoWindow = new google.maps.InfoWindow({
            content: props.content
          });

          marker.addListener("click", function () {
            infoWindow.open(map, marker);
          });
        }



      }
    }

  </script>

  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAMqHd3i9CGGYghwvMZrbSMPR4N3NVwZrk&callback=myMap"></script>

</body>

</html>